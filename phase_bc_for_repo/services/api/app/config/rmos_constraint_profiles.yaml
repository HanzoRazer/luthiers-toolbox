# RMOS Constraint Profiles Configuration
# ======================================
# 
# This file defines constraint profiles for AI rosette generation.
# Profiles are referenced by profile_id in API requests.
#
# Schema:
#   profile_id: unique identifier
#   name: human-readable name
#   description: what this profile is for
#   constraints: RosetteGeneratorConstraints fields
#   metadata: optional tags, author, created_at
#
# System limits (from ai_policy.py):
#   MAX_SYSTEM_RINGS: 12
#   MAX_SYSTEM_TOTAL_WIDTH_MM: 12.0
#   MAX_SYSTEM_ATTEMPTS: 200
#   MAX_SYSTEM_TIME_LIMIT_SECONDS: 60.0

version: "1.0"
updated_at: "2025-12-14T00:00:00Z"

profiles:
  # ============================================
  # Default Profile
  # ============================================
  default:
    name: "Default"
    description: "Balanced constraints for general rosette generation"
    constraints:
      min_rings: 2
      max_rings: 6
      min_ring_width_mm: 0.8
      max_ring_width_mm: 3.0
      min_total_width_mm: 4.0
      max_total_width_mm: 10.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: null
      bias_simple: 0.5
    metadata:
      tags: ["general", "balanced"]
      author: "system"
      is_system: true

  # ============================================
  # Beginner-Friendly Profiles
  # ============================================
  beginner:
    name: "Beginner"
    description: "Simple designs suitable for new builders"
    constraints:
      min_rings: 1
      max_rings: 3
      min_ring_width_mm: 1.5
      max_ring_width_mm: 3.0
      min_total_width_mm: 4.0
      max_total_width_mm: 8.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: "natural_woods"
      bias_simple: 0.9
    metadata:
      tags: ["beginner", "simple", "first-build"]
      author: "system"
      is_system: true

  first_rosette:
    name: "First Rosette"
    description: "Ultra-simple for absolute beginners"
    constraints:
      min_rings: 1
      max_rings: 2
      min_ring_width_mm: 2.0
      max_ring_width_mm: 4.0
      min_total_width_mm: 5.0
      max_total_width_mm: 8.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: "natural_woods"
      bias_simple: 1.0
    metadata:
      tags: ["beginner", "first-build", "tutorial"]
      author: "system"
      is_system: true

  # ============================================
  # Intermediate Profiles
  # ============================================
  classical:
    name: "Classical Guitar"
    description: "Traditional classical guitar rosette proportions"
    constraints:
      min_rings: 3
      max_rings: 7
      min_ring_width_mm: 0.5
      max_ring_width_mm: 2.5
      min_total_width_mm: 6.0
      max_total_width_mm: 10.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: "classical"
      bias_simple: 0.4
    metadata:
      tags: ["classical", "traditional", "spanish"]
      author: "system"
      is_system: true

  steel_string:
    name: "Steel String Acoustic"
    description: "Proportions typical for steel-string acoustics"
    constraints:
      min_rings: 2
      max_rings: 5
      min_ring_width_mm: 1.0
      max_ring_width_mm: 3.0
      min_total_width_mm: 4.0
      max_total_width_mm: 8.0
      allow_mosaic: true
      allow_segmented: false
      palette_key: "warm_tones"
      bias_simple: 0.6
    metadata:
      tags: ["acoustic", "steel-string", "dreadnought"]
      author: "system"
      is_system: true

  # ============================================
  # Advanced Profiles
  # ============================================
  advanced:
    name: "Advanced"
    description: "Complex designs for experienced builders"
    constraints:
      min_rings: 4
      max_rings: 10
      min_ring_width_mm: 0.5
      max_ring_width_mm: 2.0
      min_total_width_mm: 6.0
      max_total_width_mm: 12.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: null
      bias_simple: 0.2
    metadata:
      tags: ["advanced", "complex", "intricate"]
      author: "system"
      is_system: true

  master:
    name: "Master Luthier"
    description: "Maximum complexity for master-level work"
    constraints:
      min_rings: 5
      max_rings: 12
      min_ring_width_mm: 0.3
      max_ring_width_mm: 1.5
      min_total_width_mm: 8.0
      max_total_width_mm: 12.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: null
      bias_simple: 0.1
    metadata:
      tags: ["master", "expert", "showcase"]
      author: "system"
      is_system: true

  # ============================================
  # Style-Specific Profiles
  # ============================================
  herringbone:
    name: "Herringbone Style"
    description: "Optimized for herringbone pattern rosettes"
    constraints:
      min_rings: 3
      max_rings: 5
      min_ring_width_mm: 1.0
      max_ring_width_mm: 2.5
      min_total_width_mm: 5.0
      max_total_width_mm: 9.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: "herringbone"
      bias_simple: 0.5
    metadata:
      tags: ["herringbone", "pattern", "martin-style"]
      author: "system"
      is_system: true

  abalone:
    name: "Abalone Accent"
    description: "Designed for shell inlay integration"
    constraints:
      min_rings: 2
      max_rings: 4
      min_ring_width_mm: 1.5
      max_ring_width_mm: 3.5
      min_total_width_mm: 4.0
      max_total_width_mm: 8.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: "shell_accent"
      bias_simple: 0.7
    metadata:
      tags: ["abalone", "shell", "inlay"]
      author: "system"
      is_system: true

  minimalist:
    name: "Minimalist"
    description: "Clean, simple aesthetic"
    constraints:
      min_rings: 1
      max_rings: 3
      min_ring_width_mm: 2.0
      max_ring_width_mm: 4.0
      min_total_width_mm: 3.0
      max_total_width_mm: 6.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: "monochrome"
      bias_simple: 0.95
    metadata:
      tags: ["minimalist", "modern", "clean"]
      author: "system"
      is_system: true

  # ============================================
  # Material-Specific Profiles
  # ============================================
  exotic_woods:
    name: "Exotic Woods"
    description: "Showcase rare and exotic wood species"
    constraints:
      min_rings: 3
      max_rings: 6
      min_ring_width_mm: 1.0
      max_ring_width_mm: 2.5
      min_total_width_mm: 5.0
      max_total_width_mm: 10.0
      allow_mosaic: true
      allow_segmented: true
      palette_key: "exotic"
      bias_simple: 0.3
    metadata:
      tags: ["exotic", "woods", "premium"]
      author: "system"
      is_system: true

  # ============================================
  # Machine-Specific Profiles
  # ============================================
  cnc_3018:
    name: "CNC 3018 Compatible"
    description: "Constraints safe for desktop CNC 3018 machines"
    constraints:
      min_rings: 2
      max_rings: 5
      min_ring_width_mm: 1.5
      max_ring_width_mm: 3.0
      min_total_width_mm: 5.0
      max_total_width_mm: 9.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: null
      bias_simple: 0.7
    metadata:
      tags: ["cnc", "3018", "desktop", "hobby"]
      author: "system"
      is_system: true
      machine_profile_id: "cnc_3018"

  production:
    name: "Production Shop"
    description: "Optimized for production efficiency"
    constraints:
      min_rings: 2
      max_rings: 4
      min_ring_width_mm: 1.5
      max_ring_width_mm: 3.0
      min_total_width_mm: 4.0
      max_total_width_mm: 8.0
      allow_mosaic: false
      allow_segmented: false
      palette_key: "production"
      bias_simple: 0.8
    metadata:
      tags: ["production", "efficiency", "batch"]
      author: "system"
      is_system: true

# ============================================
# Color Palettes Reference
# ============================================
# Available palette_key values:
#   - natural_woods: maple, walnut, mahogany
#   - classical: rosewood, ebony, spruce
#   - warm_tones: cherry, cedar, koa
#   - herringbone: alternating light/dark
#   - shell_accent: wood with shell highlights
#   - monochrome: single wood species
#   - exotic: rare species (cocobolo, ziricote, etc.)
#   - production: readily available species

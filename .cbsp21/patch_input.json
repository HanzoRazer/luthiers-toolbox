{
  "schema_version": "cbsp21_patch_input_v1",
  "patch_id": "BUNDLE_32.4.17",
  "title": "Bundle 32.4.17 â€” Hotkey Hint Cooldown (localStorage, 10 minutes)",
  "intent": "Prevent the keyboard hint overlay from nagging users by storing dismissal timestamp in localStorage. Don't show again for 10 minutes after user dismissal. Applies to both auto-show and hover re-show.",
  "change_type": "code",
  "behavior_change": "compatible",
  "risk_level": "low",
  "scope": {
    "paths_in_scope": [
      "packages/client/src/components/rosette/"
    ],
    "files_expected_to_change": [
      "packages/client/src/components/rosette/RosetteEditorView.vue"
    ]
  },
  "diff_range": {
    "base": "HEAD",
    "head": "working-tree"
  },
  "changed_files_count": 1,
  "changed_files_exact": [
    "packages/client/src/components/rosette/RosetteEditorView.vue"
  ],
  "diff_articulation": {
    "what_changed": [
      "Added HINT_COOLDOWN_KEY constant for localStorage key ('artstudio.historyHotkeyHintDismissedAt')",
      "Added HINT_COOLDOWN_MIN constant set to 10 minutes",
      "Added getDismissedAt() helper to safely read timestamp from localStorage",
      "Added setDismissedNow() helper to safely write current timestamp to localStorage",
      "Added cooldownActive() helper to check if 10 minutes have elapsed since dismissal",
      "Updated hideHint() to accept userDismissed parameter (default true) and call setDismissedNow() when true",
      "Updated scheduleHint() to check cooldownActive() and return early if cooldown active",
      "Updated scheduleHint() to call hideHint(false) to avoid marking auto-dismiss as user dismissal",
      "Updated showHintFromHover() to check cooldownActive() and return early if cooldown active",
      "Updated close button @click to explicitly call hideHint(true) for user dismissal",
      "Updated typing suppression to call hideHint(false) since typing is not intentional dismissal",
      "Updated watch(hasHistory) to call hideHint(false) for auto-hide behavior"
    ],
    "why_not_redundant": "Before: Hint would show every time history became available or user hovered, potentially nagging. After: User dismissal triggers 10-minute cooldown preventing re-show. Implementation adds localStorage persistence layer and dismissal intent tracking (user vs auto) not present before. Distinguishes between user explicitly clicking X (triggers cooldown) vs typing/auto-hide (does not trigger cooldown)."
  },
  "verification": {
    "commands_run": [
      "git diff --numstat packages/client/src/components/rosette/RosetteEditorView.vue -> +38 lines, -5 lines",
      "Full file scan: RosetteEditorView.vue (723 lines) read completely",
      "Coverage: 100% of file read before modification"
    ]
  },
  "file_context_coverage_percent": 100.0
}

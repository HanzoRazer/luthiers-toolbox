{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "moe_result.schema.json",
  "title": "Static Bending MOE Result",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "schema_id": { "const": "moe_result" },
    "schema_version": { "type": "string", "pattern": "^[0-9]+\\.[0-9]+$" },

    "artifact_type": { "const": "bending_moe" },
    "created_utc": { "type": "string", "format": "date-time" },

    "specimen_id": { "type": "string", "minLength": 1 },
    "method": { "type": "string", "enum": ["3PT", "4PT"] },

    "span_mm": { "type": "number", "exclusiveMinimum": 0 },
    "width_mm": { "type": "number", "exclusiveMinimum": 0 },
    "thickness_mm": { "type": "number", "exclusiveMinimum": 0 },

    "E_GPa": { "type": "number", "exclusiveMinimum": 0 },
    "EI_Nmm2": { "type": "number", "exclusiveMinimum": 0 },

    "uncertainty": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "E_GPa_pm": { "type": "number", "minimum": 0 },
        "EI_Nmm2_pm": { "type": "number", "minimum": 0 }
      }
    },

    "inputs": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "load_series_path": { "type": "string" },
        "displacement_series_path": { "type": "string" },
        "load_series_sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" },
        "displacement_series_sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" },
        "merge_pairs_csv": { "type": "string" }
      }
    },

    "environment": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "temp_C": { "type": ["number", "null"] },
        "rh_pct": { "type": ["number", "null"], "minimum": 0, "maximum": 100 }
      }
    }
  },
  "required": [
    "schema_id", "schema_version",
    "artifact_type", "created_utc",
    "specimen_id", "method",
    "span_mm", "width_mm", "thickness_mm",
    "E_GPa"
  ]
}

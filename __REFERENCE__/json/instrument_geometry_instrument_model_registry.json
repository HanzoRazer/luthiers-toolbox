1) Machine-readable JSON version of the Guitar Model Inventory

You can save this as, for example:

services/api/app/instrument_geometry/instrument_model_registry.json

{
  "metadata": {
    "report_name": "Guitar Model Inventory Report",
    "source_doc": "GUITAR_MODEL_INVENTORY_REPORT.md",
    "date": "2025-01-01",
    "branch": "feature/client-migration",
    "purpose": "Comprehensive inventory of all guitar models in codebase for library/calculator alignment"
  },
  "models": [
    {
      "id": "stratocaster",
      "name": "Stratocaster",
      "status": "PRODUCTION",
      "active_code": "Full router + presets",
      "active_assets": "DXF/STL/PDF",
      "legacy_reference": "Extensive"
    },
    {
      "id": "telecaster",
      "name": "Telecaster",
      "status": "STUB",
      "active_code": "Presets only",
      "active_assets": "None",
      "legacy_reference": "Plans PDF"
    },
    {
      "id": "les_paul",
      "name": "Les Paul",
      "status": "PARTIAL",
      "active_code": "Neck generator + presets",
      "active_assets": "None",
      "legacy_reference": "Extensive"
    },
    {
      "id": "dreadnought",
      "name": "Dreadnought",
      "status": "STUB",
      "active_code": "Presets only",
      "active_assets": "None",
      "legacy_reference": "Martin 1937"
    },
    {
      "id": "om_000",
      "name": "OM / 000",
      "status": "STUB",
      "active_code": "Presets only",
      "active_assets": "None",
      "legacy_reference": "Gibson OM"
    },
    {
      "id": "j_45",
      "name": "J-45",
      "status": "ASSETS_ONLY",
      "active_code": "None",
      "active_assets": "CAM Import Kit",
      "legacy_reference": "Extensive"
    },
    {
      "id": "jazz_bass",
      "name": "Jazz Bass",
      "status": "STUB",
      "active_code": "Presets only",
      "active_assets": "None",
      "legacy_reference": "None"
    },
    {
      "id": "classical",
      "name": "Classical",
      "status": "REFERENCE",
      "active_code": "Scale/rosette refs",
      "active_assets": "None",
      "legacy_reference": "Plans PDF/DXF"
    },
    {
      "id": "archtop",
      "name": "Archtop",
      "status": "REFERENCE",
      "active_code": "Bridge calc preset",
      "active_assets": "None",
      "legacy_reference": "Measurement kit"
    },
    {
      "id": "prs",
      "name": "PRS",
      "status": "REFERENCE",
      "active_code": "Scale refs only",
      "active_assets": "None",
      "legacy_reference": "None"
    },
    {
      "id": "sg",
      "name": "SG",
      "status": "PLANNED",
      "active_code": "Doc refs only",
      "active_assets": "None",
      "legacy_reference": "Plans DXF/PDF"
    },
    {
      "id": "jumbo_j200",
      "name": "Jumbo (J-200)",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "DXF/PDF"
    },
    {
      "id": "ukulele",
      "name": "Ukulele",
      "status": "ASSETS_ONLY",
      "active_code": "None",
      "active_assets": "DXF (16+ files)",
      "legacy_reference": "Soprano project"
    },
    {
      "id": "gibson_l_00",
      "name": "Gibson OO/L-00",
      "status": "TEST_REF",
      "active_code": "Test scripts",
      "active_assets": "None",
      "legacy_reference": "DXF/PDF"
    },
    {
      "id": "flying_v",
      "name": "Flying V",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "DWG/PDF"
    },
    {
      "id": "es_335",
      "name": "ES-335",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "PDF (7 files)"
    },
    {
      "id": "explorer",
      "name": "Explorer",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "PDF (5 files)"
    },
    {
      "id": "firebird",
      "name": "Firebird",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "PDF"
    },
    {
      "id": "moderne",
      "name": "Moderne",
      "status": "LEGACY",
      "active_code": "None",
      "active_assets": "None",
      "legacy_reference": "DXF/PDF"
    }
  ]
}


That’s your “source of truth” JSON in a shape that RMOS, calculators, and the frontend can all consume.

2) InstrumentModelRegistrySpec.md

Here’s the spec doc you can drop into docs/InstrumentGeometry/InstrumentModelRegistrySpec.md (or similar). It explicitly says that the JSON above is canonical and ties it into your workflow.

# Instrument Model Registry Spec

**File:** `services/api/app/instrument_geometry/instrument_model_registry.json`  
**Authority:** ✅ Official source of truth for all instrument models in the Luthier’s ToolBox  
**Companion Doc:** `GUITAR_MODEL_INVENTORY_REPORT.md` (human-readable report)

> **Policy:** This registry file is the *canonical* record of every instrument model in the system.  
> Every time a model changes status, assets are promoted, or new models are added, you MUST update the registry JSON and, when relevant, this spec/report.

---

## 1. Purpose

The **Instrument Model Registry** exists to:

1. Provide a **single, machine-readable list** of all instrument models (guitars, basses, ukes, etc.).
2. Record the **current implementation status** of each model:
   - Code (routers, calculators, presets)
   - Assets (DXF, STL, PDF, CAM kits)
   - Legacy-only references
3. Drive **RMOS 2.0**, calculators, Art Studio, and CAM workflows from one consistent source.

This replaces scattered markdown references, ad-hoc docs, and “tribal knowledge” about which guitars exist and how complete they are.

---

## 2. File Location & Ownership

- **Location (backend):**  
  `services/api/app/instrument_geometry/instrument_model_registry.json`

- **Primary Owner:**  
  *Instrument Geometry / RMOS maintainer*

- **Consumers:**
  - RMOS 2.0 (`InstrumentGeometryService`)
  - Calculators (bridge, fret/scale, bracing, etc.)
  - Art Studio (model selection, presets)
  - CAM wizards (model dropdowns, risk profiles)
  - Documentation tooling (auto-generated model lists)

---

## 3. JSON Schema

### 3.1 Top-level structure

```jsonc
{
  "metadata": {
    "report_name": "Guitar Model Inventory Report",
    "source_doc": "GUITAR_MODEL_INVENTORY_REPORT.md",
    "date": "YYYY-MM-DD",
    "branch": "feature/client-migration",
    "purpose": "..."
  },
  "models": [ /* InstrumentModel[] */ ]
}

3.2 InstrumentModel object

Each entry in models MUST follow this shape:

{
  "id": "stratocaster",           // stable slug (lowercase, snake/slug)
  "name": "Stratocaster",         // human-friendly name
  "status": "PRODUCTION",         // enum (see below)
  "active_code": "Full router + presets",
  "active_assets": "DXF/STL/PDF",
  "legacy_reference": "Extensive"
}

Fields

id (string, required)

Unique slug used by services and the UI.

Pattern: lowercase, [a-z0-9_]+ or kebab-case.

Examples: les_paul, jumbo_j200, gibson_l_00.

name (string, required)

Display name for UI and docs.

Examples: Les Paul, Jumbo (J-200), Gibson OO/L-00.

status (string enum, required)
Allowed values (from the current inventory):

"PRODUCTION" – Full model: router + presets + assets.

"PARTIAL" – Significant code exists (e.g., neck generator) but not full body/router.

"STUB" – Basic presets only (e.g., bridge, dimensions), no dedicated router.

"ASSETS_ONLY" – Assets (DXF/STL/PDF) exist, no active code.

"REFERENCE" – Used as reference for theory, measurements, or presets; not a full production model.

"PLANNED" – Mentioned in docs but not implemented yet.

"LEGACY" – Legacy files only; not wired into current RMOS/Art Studio.

"TEST_REF" – Exists mainly for testing / reference scripts.

active_code (string, required)

Human-readable summary of what’s implemented in code.

Examples:

Full router + presets

Neck generator + presets

Presets only

Scale/rosette refs

Doc refs only

None

active_assets (string, required)

Human-readable summary of assets present in active workspaces (not legacy archives).

Examples:

DXF/STL/PDF

CAM Import Kit

DXF (16+ files)

None

legacy_reference (string, required)

Summary of relevant legacy material (Lutherier Project, historical plans, DWG/PDF bundles).

Examples:

Extensive

Plans PDF

Martin 1937

Measurement kit

DXF/PDF

None

Note: In future phases we can add optional fields (tags, category, scale_profiles, asset_roots, etc.). For now, the spec is intentionally minimal and tightly aligned with the existing report.

4. Lifecycle Rules
4.1 When you add a new model

Create a new InstrumentModel row in instrument_model_registry.json.

Choose an id that will remain stable (even if marketing names change).

Set:

status = "PLANNED" or "ASSETS_ONLY" as appropriate.

active_code, active_assets, legacy_reference as accurate as possible.

If you also create documentation, add/update GUITAR_MODEL_INVENTORY_REPORT.md to reflect the new model.

4.2 When you promote a model (e.g., STUB → PARTIAL → PRODUCTION)

Any time a model changes maturity level:

Update the status field:

STUB → PARTIAL when major code lands (router, generator, calculators).

PARTIAL → PRODUCTION when it’s end-to-end usable in ToolBox.

Update:

active_code (e.g., “Presets only” → “Full router + presets”).

active_assets (e.g., add DXF/STL/CAM kits).

If assets are moved from legacy archives into active workspaces, change legacy_reference to match reality.

Reflect the same changes in the human-readable report.

Rule of thumb: If a GitHub PR changes what a user can do with a model, it should also change the registry entry for that model.

4.3 When assets move from legacy → active

Example: you promote a Les Paul DXF set from the “Lutherier Project” directory into the active workspace/ tree.

Update the relevant model:

active_assets: from None → DXF/STL/PDF or similar.

legacy_reference: keep as-is (the history still matters) or refine (e.g., “Extensive (legacy + active)”).

If you deprecate a legacy folder, make a note in legacy_reference or in the Knowledge Base.

5. How Other Systems Use the Registry
5.1 RMOS 2.0

RMOS should treat instrument_model_registry.json as its authoritative model index:

list_models() – returns all models with their status.

get_model(id) – returns a single model’s registry entry.

Workflow rules (e.g., only show "PRODUCTION" and "PARTIAL" in end-user dropdowns, but allow dev tools to see everything).

5.2 Calculators & Instrument Geometry

Bridge calculator, fret/scale length, radius profiles, bracing, etc. can:

Map presets to id values in the registry.

Refuse to run “full production” pipelines for "LEGACY" only models unless explicitly enabled.

5.3 Art Studio & Client UI

Art Studio model selector should read from the registry and:

Only present "PRODUCTION" and "PARTIAL" as primary options.

Optionally show "STUB"/"REFERENCE" models in an “experimental” or “future work” section.

6. Update Workflow

Recommended workflow when a PR affects instruments:

Code / assets change

Implement or update router, calculators, or geometry.

Add or move DXF/STL/PDF assets.

Update registry

Edit instrument_model_registry.json.

Ensure the status, active_code, active_assets, and legacy_reference fields are correct.

Update docs (optional but encouraged)

Update GUITAR_MODEL_INVENTORY_REPORT.md with the new reality.

If necessary, add notes in the Knowledge Base (e.g., new scale length theory, revised templates).

Review

Code review should include a quick check:
“Does this PR require a registry update?”
If yes and it’s missing, request changes.

7. Canonical Statement

To make it crystal clear for future you and future collaborators:

The instrument_model_registry.json file is the official source of truth for instrument models in the Luthier’s ToolBox.
Every time a model changes status, new assets are promoted, or a new model is introduced, the registry MUST be updated.
This spec and the human-readable inventory report exist to explain and reflect that canonical JSON.
name: API DXF Export Tests

# =============================================================================
# WORKFLOW DISABLED: Legacy DXF Export Tests
# =============================================================================
#
# This workflow tests legacy DXF export endpoints from the ./server directory
# that have not been migrated to the main API (services/api).
#
# Legacy endpoints tested (NOT in current API):
#   - /exports/dxf/health
#   - /exports/polyline_dxf
#   - /exports/biarc_dxf
#   - /exports/history
#
# Current API DXF endpoints (different functionality):
#   - /api/dxf/* (DXF Planning)
#   - /api/cad/* (CAD, DXF)
#   - /api/dxf/preflight/* (DXF Preflight)
#
# To re-enable: migrate server/dxf_exports_router.py to services/api
# =============================================================================

on:
  # Disabled: path triggers reference legacy ./server directory
  # push:
  #   branches: [main, develop]
  #   paths:
  #     - 'server/dxf_*.py'
  #     - 'server/curvemath_router_biarc.py'
  #     - 'server/tests/test_curvemath_dxf.py'
  #     - '.github/workflows/api_dxf_tests.yml'
  # pull_request:
  #   branches: [main]
  #   paths:
  #     - 'server/dxf_*.py'
  #     - 'server/curvemath_router_biarc.py'
  #     - 'server/tests/test_curvemath_dxf.py'
  workflow_dispatch:  # Manual trigger only - for testing after migration

jobs:
  dxf-summary:
    name: DXF Tests Summary
    runs-on: ubuntu-latest

    steps:
      - name: Report disabled status
        run: |
          echo "## DXF Export Tests - DISABLED" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "This workflow is disabled pending migration of legacy DXF endpoints." >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### Legacy endpoints (in ./server, NOT in current API):" >> $GITHUB_STEP_SUMMARY
          echo "- /exports/polyline_dxf" >> $GITHUB_STEP_SUMMARY
          echo "- /exports/biarc_dxf" >> $GITHUB_STEP_SUMMARY
          echo "- /exports/dxf/health" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### To re-enable:" >> $GITHUB_STEP_SUMMARY
          echo "1. Migrate server/dxf_exports_router.py to services/api/app/routers/" >> $GITHUB_STEP_SUMMARY
          echo "2. Update services/api/app/main.py to include the router" >> $GITHUB_STEP_SUMMARY
          echo "3. Restore the test jobs in this workflow" >> $GITHUB_STEP_SUMMARY
